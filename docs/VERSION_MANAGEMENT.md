# ğŸ·ï¸ ç‰ˆæœ¬ç®¡ç†æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®æ”¯æŒä¸¤ç§ç‰ˆæœ¬ç®¡ç†ç­–ç•¥ï¼š
- **developåˆ†æ”¯**ï¼šåŸºäºæœ€æ–°æ ‡ç­¾è‡ªåŠ¨é€’å¢PATCHç‰ˆæœ¬
- **å¤§ç‰ˆæœ¬åˆ†æ”¯**ï¼šåŸºäºå¤§ç‰ˆæœ¬è‡ªåŠ¨é€’å¢å°ç‰ˆæœ¬

## ğŸŒ¿ åˆ†æ”¯ç­–ç•¥

### ğŸ“Š åˆ†æ”¯ç±»å‹å¯¹æ¯”
| åˆ†æ”¯ç±»å‹ | å‘½åè§„åˆ™ | ç‰ˆæœ¬æ ¼å¼ | ç”¨é€” | ç¤ºä¾‹ |
|----------|----------|----------|------|------|
| **develop** | `develop` | v1.0.0, v1.0.1, v1.0.2 | æ—¥å¸¸å¼€å‘ | v1.0.0 â†’ v1.0.1 |
| **å¤§ç‰ˆæœ¬åˆ†æ”¯** | `v*/develop` | v1.0.0, v1.0.1, v1.0.2 | å¤§ç‰ˆæœ¬å¼€å‘ | v1.0.0 â†’ v1.0.1 |
| **main** | `main` | æ— ç‰ˆæœ¬å‘å¸ƒ | ä»£ç ç®¡ç† | ä»…éªŒè¯ |

## ğŸš€ ç‰ˆæœ¬å‘å¸ƒæµç¨‹

### 1. developåˆ†æ”¯å‘å¸ƒ

#### è§¦å‘æ¡ä»¶
- æ¨é€åˆ° `develop` åˆ†æ”¯

#### ç‰ˆæœ¬ç”Ÿæˆé€»è¾‘
```bash
# è·å–æœ€æ–°æ ‡ç­¾
LATEST_TAG=$(git describe --tags --abbrev=0 2>/dev/null || echo "v0.0.0")

# é€’å¢PATCHç‰ˆæœ¬
VERSION_NUM=$(echo $LATEST_TAG | sed 's/v//' | awk -F. '{print $1"."$2"."$3+1}')
VERSION="v$VERSION_NUM"
```

#### ç¤ºä¾‹æµç¨‹
```bash
# 1. å¼€å‘åŠŸèƒ½
git checkout develop
git add .
git commit -m "feat: add new feature"
git push origin develop

# 2. è‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬
# æœ€æ–°æ ‡ç­¾: v1.0.0
# æ–°ç‰ˆæœ¬: v1.0.1

# 3. è‡ªåŠ¨å‘å¸ƒ
# âœ… åˆ›å»ºGitæ ‡ç­¾: v1.0.1
# âœ… åˆ›å»ºGitHub Release
# âœ… æ„å»ºDockeré•œåƒ
# âœ… éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
```

### 2. å¤§ç‰ˆæœ¬åˆ†æ”¯å‘å¸ƒ

#### è§¦å‘æ¡ä»¶
- æ¨é€åˆ° `v*/develop` åˆ†æ”¯ï¼ˆå¦‚ï¼š`v1.0.0/develop`ï¼‰

#### ç‰ˆæœ¬ç”Ÿæˆé€»è¾‘
```bash
# æå–å¤§ç‰ˆæœ¬
MAJOR_VERSION="v1.0.0"

# è·å–è¯¥å¤§ç‰ˆæœ¬ä¸‹çš„æœ€æ–°æ ‡ç­¾
LATEST_TAG=$(git tag --list "${MAJOR_VERSION}.*" --sort=-version:refname | head -n 1)

if [ -z "$LATEST_TAG" ]; then
    # é¦–æ¬¡å‘å¸ƒï¼Œä» v1.0.0 å¼€å§‹
    VERSION="${MAJOR_VERSION}"
else
    # é€’å¢PATCHç‰ˆæœ¬
    VERSION_NUM=$(echo $LATEST_TAG | sed 's/v//' | awk -F. '{print $1"."$2"."$3+1}')
    VERSION="v$VERSION_NUM"
fi
```

#### ç¤ºä¾‹æµç¨‹
```bash
# 1. åˆ›å»ºå¤§ç‰ˆæœ¬åˆ†æ”¯
git checkout -b v1.0.0/develop
git push origin v1.0.0/develop

# 2. é¦–æ¬¡å‘å¸ƒ
git add .
git commit -m "feat: initial v1.0.0 release"
git push origin v1.0.0/develop

# 3. è‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬
# å¤§ç‰ˆæœ¬: v1.0.0
# é¦–æ¬¡å‘å¸ƒ: v1.0.0

# 4. åç»­å‘å¸ƒ
git add .
git commit -m "feat: add v1.0.0 feature"
git push origin v1.0.0/develop

# 5. è‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬
# æœ€æ–°æ ‡ç­¾: v1.0.0
# æ–°ç‰ˆæœ¬: v1.0.1
```

## ğŸ“Š ç‰ˆæœ¬å·ç¤ºä¾‹

### developåˆ†æ”¯ç‰ˆæœ¬
| æœ€æ–°æ ‡ç­¾ | æ–°ç‰ˆæœ¬ | è¯´æ˜ |
|----------|--------|------|
| v0.0.0 | v0.0.1 | é¦–æ¬¡å‘å¸ƒ |
| v1.0.0 | v1.0.1 | é€’å¢PATCH |
| v1.0.5 | v1.0.6 | ç»§ç»­é€’å¢ |

### å¤§ç‰ˆæœ¬åˆ†æ”¯ç‰ˆæœ¬
| åˆ†æ”¯ | æœ€æ–°æ ‡ç­¾ | æ–°ç‰ˆæœ¬ | è¯´æ˜ |
|------|----------|--------|------|
| v1.0.0/develop | æ—  | v1.0.0 | é¦–æ¬¡å‘å¸ƒ |
| v1.0.0/develop | v1.0.0 | v1.0.1 | é€’å¢PATCHç‰ˆæœ¬ |
| v1.0.0/develop | v1.0.5 | v1.0.6 | ç»§ç»­é€’å¢ |
| v2.0.0/develop | æ—  | v2.0.0 | æ–°å¤§ç‰ˆæœ¬é¦–æ¬¡å‘å¸ƒ |

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šæ—¥å¸¸å¼€å‘
```bash
# é€‚ç”¨äºï¼šåŠŸèƒ½å¼€å‘ã€bugä¿®å¤ã€å°ç‰ˆæœ¬æ›´æ–°
git checkout develop
# å¼€å‘åŠŸèƒ½...
git push origin develop
# è‡ªåŠ¨å‘å¸ƒï¼šv1.0.0 â†’ v1.0.1
```

### åœºæ™¯2ï¼šå¤§ç‰ˆæœ¬å¼€å‘
```bash
# é€‚ç”¨äºï¼šå¤§ç‰ˆæœ¬åŠŸèƒ½å¼€å‘ã€é•¿æœŸå¼€å‘
git checkout -b v1.0.0/develop
# å¼€å‘å¤§ç‰ˆæœ¬åŠŸèƒ½...
git push origin v1.0.0/develop
# è‡ªåŠ¨å‘å¸ƒï¼šv1.0.0 â†’ v1.0.1
```

### åœºæ™¯3ï¼šå¤šç‰ˆæœ¬å¹¶è¡Œå¼€å‘
```bash
# åŒæ—¶ç»´æŠ¤å¤šä¸ªå¤§ç‰ˆæœ¬
git checkout -b v1.0.0/develop  # v1.0.0ç³»åˆ—
git checkout -b v2.0.0/develop  # v2.0.0ç³»åˆ—
git checkout -b v3.0.0/develop  # v3.0.0ç³»åˆ—
```

## ğŸ”§ æ‰‹åŠ¨å‘å¸ƒ

### æ‰‹åŠ¨è§¦å‘å‘å¸ƒ
```bash
# åœ¨GitHub Actionsé¡µé¢æ‰‹åŠ¨è§¦å‘release.yml
# è¾“å…¥å‚æ•°ï¼š
# - version: v2.0.0-beta
# - release_notes: Beta release for testing
# - source_branch: develop
```

### æ‰‹åŠ¨åˆ›å»ºæ ‡ç­¾
```bash
# æ‰‹åŠ¨åˆ›å»ºæ ‡ç­¾
git tag v1.0.0
git push origin v1.0.0

# æ‰‹åŠ¨åˆ›å»ºRelease
# åœ¨GitHubé¡µé¢åˆ›å»ºRelease
```

## ğŸ“ˆ ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•
- **å°åŠŸèƒ½å¼€å‘**ï¼šä½¿ç”¨developåˆ†æ”¯
- **å¤§ç‰ˆæœ¬å¼€å‘**ï¼šä½¿ç”¨v*/developåˆ†æ”¯
- **ç‰ˆæœ¬å‘½å**ï¼šéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ
- **å‘å¸ƒè¯´æ˜**ï¼šæä¾›æ¸…æ™°çš„å‘å¸ƒè¯´æ˜

### âŒ é¿å…åšæ³•
- **ç›´æ¥ä¿®æ”¹æ ‡ç­¾**ï¼šä¸è¦æ‰‹åŠ¨ä¿®æ”¹å·²å‘å¸ƒçš„æ ‡ç­¾
- **è·³è¿‡ç‰ˆæœ¬å·**ï¼šä¸è¦è·³è¿‡ç‰ˆæœ¬å·
- **æ··ä¹±åˆ†æ”¯**ï¼šä¸è¦åœ¨é”™è¯¯çš„åˆ†æ”¯ä¸Šå¼€å‘

## ğŸ” æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šç‰ˆæœ¬å·é‡å¤
```bash
# åŸå› ï¼šæ ‡ç­¾å·²å­˜åœ¨
# è§£å†³ï¼šæ£€æŸ¥ç°æœ‰æ ‡ç­¾ï¼Œä½¿ç”¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬å·
git tag --list | grep v1.0.0
```

### é—®é¢˜2ï¼šåˆ†æ”¯åç§°é”™è¯¯
```bash
# åŸå› ï¼šåˆ†æ”¯åç§°ä¸ç¬¦åˆè§„èŒƒ
# è§£å†³ï¼šä½¿ç”¨æ­£ç¡®çš„åˆ†æ”¯å‘½å
# æ­£ç¡®ï¼šv1.0.0/develop
# é”™è¯¯ï¼šv1.0.0-develop, v1.0.0_develop
```

### é—®é¢˜3ï¼šæƒé™ä¸è¶³
```bash
# åŸå› ï¼šGitHub Actionsæƒé™ä¸è¶³
# è§£å†³ï¼šæ£€æŸ¥å·¥ä½œæµæƒé™è®¾ç½®
permissions:
  contents: write
  packages: write
```

## ğŸ“ è”ç³»ä¿¡æ¯

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»ï¼š
- ğŸ“§ **é‚®ç®±**ï¼šxichen@example.com
- ğŸ™ **GitHub**ï¼š@xichen
- ğŸ“± **Slack**ï¼š#wiki-dev
